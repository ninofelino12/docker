<!DOCTYPE html>
<html>

<head>
  <title>Product Table</title>

   <!-- Compiled and minified CSS -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

   <!-- Compiled and minified JavaScript -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
           
</head>

<body>
  <style>
    img {
      width: 80px;
      height: 70px;
    }
  </style>
 
  <div class="card-panel black lighten-2">This is a card panel with a teal lighten-2 class</div>
            

  <div class="card-panel teal lighten-2" id="judul">Daftar Product</div>

  <table id=hasil>
  
    <div id="hasisl"></div>
    <div>
  </table>





  <script>


  </script>
  <script>
    const odoo = "http://localhost:8015"
    fetch('http://localhost:8015/gateway/modelfel?field=id,name')
      .then(response => {
        document.getElementById('judul').innerHTML =
          response.headers.get('Pragma');
          const array = ['id', 'name'].slice();
          
          var headerTable="";
          for (let i = 0; i < array.length; i++) {
            headerTable=headerTable+array[i]
}
document.getElementById('judul').innerHTML =headerTable     

      }
      )
;


    fetch('http://localhost:8015/gateway/modelfel?field=id,name')


      .then(response => response.json())



      .then(jsonData => {
        var hasil;
        jsonData.forEach(product => {

          hasil += `
                <tr>
                <td>${product.name}</td>
                <td>${product.id}</td>
                <td><img  height="10%"  src="${odoo}${product.img}" alt="Product Image"></td>
                </tr>
              `

        });
        document.getElementById('hasil').innerHTML = hasil;
      })
      .catch(error => console.error('Error fetching data:', error));
  </script>

  </div>
</body>

</html>